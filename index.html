<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jacob's Caf√© & Resto</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="logo.png" type="image/png">
</head>

<body>
    <div class="container">
        <!-- Logo Header -->
        <div class="logo-section">
            <h2>Welcome to</h2>
            <img src="images/logo.png" alt="Jacob's Caf√© & Resto">
            <h2>Caf√© & Resto</h2>
        </div>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-btn active" onclick="switchTab('all-meals')" id="tab-all-meals">
                All Meals
            </button>
            <button class="tab-btn" onclick="switchTab('cafe-menu')" id="tab-cafe-menu">
                Cafe Menu
            </button>
            <button class="tab-btn" onclick="switchTab('cart')" id="tab-cart">
                My Cart <span class="cart-badge" id="cartBadge">0</span>
            </button>
            <button class="tab-btn" onclick="switchTab('orders')" id="tab-orders">
                Orders
            </button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Tab 1: All Meals -->
            <div class="tab-pane active" id="pane-all-meals">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="üîç Search menu items...">
                </div>

                <!-- Category Dropdown -->
                <div class="filter-bar" style="margin-bottom: 15px;">
                    <label style="font-weight: bold; margin-right: 10px;">Category:</label>
                    <select id="mealsCategoryFilter" onchange="filterMealsByCategory(this.value)"
                        style="padding: 10px 15px; border: 2px solid #e0e0e0; border-radius: 50px; font-size: 0.95rem; min-width: 150px;">
                        <option value="all-meals">All Meals</option>
                    </select>
                </div>

                <h3 class="section-title" id="menuSectionTitle">All Meals</h3>
                <div class="menu-grid" id="menuGrid">
                    <div class="loading"></div>
                </div>
            </div>

            <!-- Tab 2: Cafe Menu -->
            <div class="tab-pane" id="pane-cafe-menu">
                <div class="search-container">
                    <input type="text" id="cafeSearchInput" placeholder="üîç Search cafe items...">
                </div>

                <!-- Cafe Category Filter -->
                <div class="filter-bar" style="margin-bottom: 15px;">
                    <label style="font-weight: bold; margin-right: 10px;">Category:</label>
                    <select id="cafeCategoryFilter" onchange="filterCafeByCategory(this.value)"
                        style="padding: 10px 15px; border: 2px solid #2E3094; border-radius: 50px; font-size: 0.95rem; min-width: 150px; color: #2E3094; font-weight: bold;">
                        <option value="all">All Cafe Items</option>
                    </select>
                </div>

                <div id="cafeMenuContainer">
                    <div class="loading"></div>
                </div>
            </div>

            <!-- Tab 3: Cart (unchanged) -->
            <div class="tab-pane" id="pane-cart">
                <h3 class="section-title">Your Cart</h3>
                <div class="cart-items" id="cartItems">
                    <div class="empty-state">
                        <p>Your cart is empty</p>
                    </div>
                </div>
                <div class="cart-footer">
                    <div class="cart-total" id="cartTotal">Total: ‚Ç±0.00</div>
                    <button class="place-order-btn" onclick="openPaymentModal()">Place Order</button>
                </div>
            </div>

            <!-- Tab 4: Orders (unchanged) -->
            <div class="tab-pane" id="pane-orders">
                <h3 class="section-title">My Orders</h3>
                <div class="order-status-container" id="orderStatus">
                    <div class="empty-state">
                        <p>No active orders</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="payment-modal" id="paymentModal">
            <div class="payment-content">
                <span class="close-btn" onclick="closePaymentModal()">√ó</span>
                <h2 style="text-align: center; margin-bottom: 20px; color: #BA8E4A;">Payment</h2>

                <!-- Order Type Selection - ADD THIS FIRST -->
                <div class="order-type-selection" style="margin-bottom: 25px;">
                    <label style="font-weight: bold; margin-bottom: 10px; display: block;">Order Type:</label>
                    <div style="display: flex; gap: 10px;">
                        <button class="payment-method-btn active" onclick="selectOrderType('dine-in')" id="dineInBtn">
                            Dine-In
                        </button>
                        <button class="payment-method-btn" onclick="selectOrderType('take-out')" id="takeOutBtn">
                            Take-Out
                        </button>
                    </div>
                </div>

                <!-- Payment Method Selection -->
                <div class="payment-method-selection">
                    <label style="font-weight: bold; margin-bottom: 10px; display: block;">Select Payment
                        Method:</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <button class="payment-method-btn active" onclick="selectPaymentMethod('cash')" id="cashBtn">
                            Cash
                        </button>
                        <button class="payment-method-btn" onclick="selectPaymentMethod('gcash')" id="gcashBtn">
                            e-Wallet/GCash
                        </button>
                    </div>
                </div>

                <div class="payment-form">
                    <div class="form-group">
                        <label>Total Amount:</label>
                        <input type="text" id="paymentTotal" readonly
                            style="background: #f8f9fa; padding: 10px; border: 1px solid #ddd; border-radius: 5px; width: 100%; font-size: 1.1rem; font-weight: bold;">
                    </div>

                    <!-- Cash Payment Message -->
                    <div id="cashPaymentFields">
                        <div
                            style="background: #d1ecf1; border: 1px solid #bee5eb; padding: 20px; border-radius: 10px; text-align: center; margin-top: 15px;">
                            <h3 style="color: #0c5460; margin-bottom: 10px;">Pay Over the Counter</h3>
                            <p style="color: #0c5460; font-size: 0.95rem;">
                                Please proceed to the counter to pay for your order.
                            </p>
                        </div>
                    </div>

                    <!-- GCash Payment Fields -->
                    <div id="gcashPaymentFields" style="display: none;">
                        <div
                            style="background: #e7f3ff; border: 1px solid #b3d9ff; padding: 20px; border-radius: 10px; text-align: center; margin-top: 15px;">
                            <h3 style="color: #004085; margin-bottom: 10px;">GCash Payment</h3>
                            <p style="color: #004085; font-size: 0.95rem; margin-bottom: 10px;">
                                You'll be redirected to GCash to complete your payment.
                            </p>
                        </div>
                    </div>

                    <button class="checkout-btn" onclick="processOrder()" id="processOrderBtn"
                        style="width: 100%; padding: 15px; background: #BA8E4A; color: white; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 20px;">
                        Confirm Order
                    </button>
                </div>
            </div>
        </div>

        <!-- Feedback Button -->
        <button class="feedback-btn" onclick="openFeedbackModal()">
            ‚≠ê Feedback
        </button>

        <!-- Feedback Modal -->
        <div class="feedback-modal" id="feedbackModal">
            <div class="feedback-content">
                <span class="close-btn" onclick="closeFeedbackModal()">√ó</span>
                <h2 style="text-align: center; margin-bottom: 20px; color: #BA8E4A;">Rate Your Experience</h2>

                <div class="feedback-form">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <div style="font-weight: bold; margin-bottom: 15px; font-size: 1.1rem;">How was your experience?
                        </div>
                        <div class="star-rating" id="starRating">
                            <span class="star" data-rating="1">‚≠ê</span>
                            <span class="star" data-rating="2">‚≠ê</span>
                            <span class="star" data-rating="3">‚≠ê</span>
                            <span class="star" data-rating="4">‚≠ê</span>
                            <span class="star" data-rating="5">‚≠ê</span>
                        </div>
                        <div id="ratingText"
                            style="margin-top: 10px; font-size: 0.9rem; color: #666; min-height: 20px;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Comments (Optional):</label>
                        <textarea id="feedbackComment" placeholder="Tell us about your experience..." rows="4"
                            style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 10px; resize: vertical; font-family: inherit;"></textarea>
                    </div>

                    <button class="submit-feedback-btn" onclick="submitFeedback()"
                        style="width: 100%; padding: 15px; background: linear-gradient(135deg, #BA8E4A, #d4a562); color: white; border: none; border-radius: 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-top: 15px;">
                        Submit Feedback
                    </button>
                </div>
            </div>
        </div>

        <script type="module" src="scripts.js"></script>
</body>

</html>